AudioSource
    owns audio device

    source (input) -> samples (output)

    get         sample rate

RealDft
    owns fftw plan and buffers

    samples (input) -> windowed samples -> dft (output)

    get/set     size, window function

Spectrogram

    dft (input) -> pixel row (output)

    get/set     magnitude min, magnitude max, magnitude log., color scheme
    get         pixel to hz lambda

################################################################################

AudioThread
    ref to AudioSource (input)
    ref to samples queue (output)

    while True:
        read audio samples from source
        push samples into samples queue

    get/set     read size

SpectrogramThread
    ref to samples queue (input)
    ref to pixels queue (output)
    ref to RealDft
    ref to Spectrogram

    while True:
        pop new samples from samples queue
        shift new samples into sample buffer
        run RealDft on sample buffer to produce dft
        run Spectrogram on dft to produce pixels
        push pixels into pixels queue

InterfaceThread
    ref to pixels queue (input)
    owns SDL (output)
    ref to AudioSource (for configuration)
    ref to RealDft (for configuration)
    ref to Spectrogram (for configuration)
    ref to AudioThread (for configuration, control)
    ref to SpectrogramThread (for control)

    while True:
        check and handle SDL events
        pop new pixels from pixels queue
        shift new pixels into pixel buffer
        draw pixels
        draw settings info

################################################################################

- put limits somewhere visible to main
- add console options to configure initial configuration

    Interface Settings
    width
        -w, --width
    height
        -h, --height
    orientation
        --horizontal, --vertical ?

    Audio Settings
    sample rate
        -r, --sample-rate

    DFT Settings
    overlap %
        --overlap ?
    dft size
        --dft-size ?
    window function
        --window <hanning, hamming, rectangular>

    Spectrogram Settings
    magnitude min
        --magnitude-min
    magnitude max
        --magnitude-max
    magnitude linear/logarithimic
        --magnitude-scale <linear, logarithmic>
    color scheme
        --colors <heat, grayscale, blue>

- revisit architecture
- add font file
- add readme, license, changelog
- release

todo:
- add bandwidth selection?
- add magnitude cursor info
- add dft averaging
- add frequency cursor delta
- add logarithimic/linear frequency?
- add realtime sample rate change?
- add realtime window size change?

