Classes

AudioSource
    owns audio device

    input source -> output samples

    get         sample rate

RealDft
    owns fftw plan and buffers

    input samples -> windowed samples -> output dft

    get/set     size, window function

SpectrumRenderer

    input dft -> output pixel row

    get/set     magnitude min, magnitude max, magnitude log., color scheme
    get         pixel to hz lambda

################################################################################

Threads

AudioThread
    input AudioSource -> output samplesQueue
    ref to read size

    while True:
        read audio samples from AudioSource
        push samples into samplesQueue

SpectrogramThread
    input SamplesQueue -> output pixelsQueue
    ref to RealDft
    ref to SpectrumRenderer

    while True:
        pop new samples from samplesQueue
        shift new samples into sample buffer
        run RealDft on sample buffer to produce dft
        run SpectrumRenderer on dft to produce pixels
        push pixels into pixelsQueue

InterfaceThread
    input pixelsQueue -> output SDL
    ref to AudioSource (for configuration)
    ref to RealDft (for configuration)
    ref to SpectrumRenderer (for configuration)
    ref to read size (for control)

    while True:
        check and handle SDL events
        pop new pixels from pixelsQueue
        shift new pixels into pixel buffer
        draw pixel buffer to SDL
        draw settings info

################################################################################

- add font file
- revisit architecture
- add license
- add release changelog
- add readme
- release

todo:
- add bandwidth selection?
- add magnitude cursor info
- add dft averaging
- add frequency cursor delta
- add logarithimic/linear frequency?
- add realtime sample rate change?
- add realtime window size change?

