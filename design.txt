AudioSource
    owns audio device

    source -> samples

    get         sample rate

RealDft
    owns FFTW aligned windowed sample buffer
    owns FFTW aligned output dft buffer

    samples -> windowed samples -> dft -> magnitudes

    get/set     size, window function

Spectrogram

    magnitudes -> pixels

    get         pixels, width, height
    get/set     magnitude min, magnitude max

################################################################################

AudioThread
    ref to AudioSource (input)
    ref to samples queue (output)

    while True:
        read audio samples
        put it in queue

    get         sample rate
    get/set     read size

SpectrogramThread
    ref to samples queue (input)
    ref to pixels queue (output)
    owns RealDft
    owns Spectrogram

    while True:
        read samples from queue
        shift into sample buffer
        run RealDft on sample buffer to produce magnitudes
        run Spectrogram on magnitudes to produce pixels
        put pixels into pixels queue

    get/set     dft size, window function, magnitude min, magnitude max

InterfaceThread
    ref to pixels queue (input)
    owns SDL (output)
    ref to AudioThread (for user control)
    ref to SpectrogramThread (for user control)

    while True:
        check for SDL events
        draw spectrogram pixels
        draw settings info
            Window Function
            Overlap %, DFT Size
            Min/Max dB
            Hz/Px, Cursor Hz

################################################################################

- change to complex dft propagation

- interfacethread add settings info (cached)
- interfacethread add cursor info (based on cached)
- add source directory, build directory to makefile
- spectrogram fix color scheme
- interfacethread add keyboard events to cycle through settings
- all add clean exit
- spectrogram fix stretch
- add PNG output stream
- add GIF output stream

- spectrogram add logarithmic/linear amplitude
- spectrogram add logarithimic/linear frequency
- spectrogram add bandwidth selection
- add realtime sample rate update?

