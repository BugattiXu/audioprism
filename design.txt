AudioSource
    owns audio device

    source (input) -> samples (output)

    get         sample rate

RealDft

    samples (input) -> windowed samples -> dft (output)

    get/set     size, window function

Spectrogram

    dft (input) -> pixel row (output)

    get/set     magnitude min, magnitude max, color scheme, pixel to hz lambda

################################################################################

AudioThread
    ref to AudioSource (input)
    ref to samples queue (output)

    while True:
        read audio samples from source
        push samples into samples queue

    get         sample rate
    get/set     read size

SpectrogramThread
    ref to samples queue (input)
    ref to pixels queue (output)
    owns RealDft
    owns Spectrogram

    while True:
        pop samples from samples queue
        shift into sample buffer
        run RealDft on sample buffer to produce dft
        run Spectrogram on dft to produce pixels
        push pixels into pixels queue

    get/set     dft size, window function, magnitude min, magnitude max

InterfaceThread
    ref to pixels queue (input)
    owns SDL (output)
    ref to AudioThread (for user control)
    ref to SpectrogramThread (for user control)

    while True:
        check for and handle SDL events
        pop pixels from pixels queue
        update pixel buffer with new pixels
        draw spectrogram pixels
        draw settings info
            Window Function
            Overlap %, DFT Size
            Min/Max dB
            Hz/Px, Cursor Hz

################################################################################

- all clean exit
- add logarithmic/linear amplitude option

- add WAV audio source (libsndfile)
- add PNG output stream (magick++)
- add GIF output stream (magick++)
- add image writer
- add console options

- add magnitude cursor info
- add bandwidth selection
- add dft averaging

- add frequency cursors
- add logarithimic/linear frequency?
- add realtime sample rate change?
- add realtime window size change?

