AudioSource
    owns audio device

    source (input) -> samples (output)

    get         sample rate

RealDft

    samples (input) -> windowed samples -> dft (output)

    get/set     size, window function

Spectrogram

    dft (input) -> pixel row (output)

    get/set     pixel to hz lambda, magnitude min, magnitude max

################################################################################

AudioThread
    ref to AudioSource (input)
    ref to samples queue (output)

    while True:
        read audio samples from source
        push samples into samples queue

    get         sample rate
    get/set     read size

SpectrogramThread
    ref to samples queue (input)
    ref to pixels queue (output)
    owns RealDft
    owns Spectrogram

    while True:
        pop samples from samples queue
        shift into sample buffer
        run RealDft on sample buffer to produce dft
        run Spectrogram on dft to produce pixels
        push pixels into pixels queue

    get/set     dft size, window function, magnitude min, magnitude max

InterfaceThread
    ref to pixels queue (input)
    owns SDL (output)
    ref to AudioThread (for user control)
    ref to SpectrogramThread (for user control)

    while True:
        check for and handle SDL events
        pop pixels from pixels queue
        update pixel buffer with new pixels
        draw spectrogram pixels
        draw settings info
            Window Function
            Overlap %, DFT Size
            Min/Max dB
            Hz/Px, Cursor Hz

################################################################################

- interfacethread add keyboard events to cycle through settings
    w for window [Hanning,Hamming,Rectangular]
    l for logarithimic/linear
    right for DFT N down [2**5 -- 2**13]
    left for DFT N up
    up for read size up [64 -- 64*x <= N]
    down for read size down
    - for magnitude min down +5dB
    - for magnitude min up -5dB
    _ for magnitude max down +5dB
    + for magnitude max up -5dB
    h for hide info

- spectrogram fix color scheme
- spectrogram add logarithmic/linear amplitude
- all add clean exit

- add WAV audio source
- add PNG output stream
- add GIF output stream
- add image writer

- add bandwidth selection
- add pick out large peak
- add dft averaging

- spectrogram add logarithimic/linear frequency?
- add realtime sample rate change?
- add realtime window size change?

